# 执行聚合

聚合函数提供了对你的数据进行分组和抽取等统计分析的能力。理解聚合最简单的方式就把它与SQL中的聚合以及GROUP BY语句进行类比。在Elasticsearch中，你可以在返回查询数据的同时，返回进行过聚合分析的结果。这个特性可以让你通过一个简单的API，同时执行查询和多种聚合操作，从而通过一次请求得到所有的（或是其中一个）结果，从而避免进行多次网络交互，提高效率。

我们以一个例子开始，下面的例子将账户按照state进行分组，然后根据每组中含有的账户数量进行降序排序，返回前10条数据:

```bash
curl -XPOST 'localhost:9200/bank/_search?pretty' -d '
{
  "size": 0,
  "aggs": {
    "group_by_state": {
      "terms": {
        "field": "state"
      }
    }
  }
}'
```



