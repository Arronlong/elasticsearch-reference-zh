# 译者注 （关于集群健康章节内容理解）

在本节中，提到了关于Elasticsearch集群默认利用单播自动发现的概念。笔者最初对此并不了解，网上有很多人云亦云的博文对笔者也产生了不小的误导，让笔者误以为，只要配置了同样的集群名字就可以进行自动发现。于是我想当然的做了很多试验，都没有实现自动发现的效果。这里简单的解释下这个功能。

先说下单播。单播网络可以简单的理解为点对点的通信，这是一个相对于多播（组播）的概念。既然是点对点的，那么就需要在Elasticsearch的集群中提供一个或多个节点用于跟集群中所有其他节点进行单播通信，用于自动发现、构建集群。而默认的，Elasticsearch使用的单播地址为127.0.0.1。也就是说，默认情况下也只能进行本机上多elasticsearch节点的自动发现，并且节点的绑定ip还得是使用默认的127.0.0.1。如果你使用了其他的内网地址，如笔者实验环境的10.200.48.116，那127.0.0.1地址上就没有ES服务，也就无法进行自发现。这也是笔者最开始在本机启动两个节点，没有实现自动发现的原因。

在全部使用默认配置的情况下，Elasticsearch节点的绑定地址和单播地址都是127.0.0.1，多次启动节点，会依次自动使用9300，9301等端口，因此不会冲突，还会进行自动发现，组成集群。下面信息为笔者在自己的实验环境下，采用默认配置在同一个机器上启动两个节点后的集群状态。可以看到，两个节点自动加入了同一个集群。

```
epoch      timestamp cluster       status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent 
1475336671 23:44:31  elasticsearch green           2         2      0   0    0    0        0             0                  -                100.0% 
```

Elasticsearch还支持组播的自动探测机制，不过根据组播原理，这个机制需要交换机等设备的支持。笔者尚未进行具体的验证。

